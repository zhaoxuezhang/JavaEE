<html>
<head>
  <title>SSM整合</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="994"/>
<h1>SSM整合</h1>

<div>
<span><div><div><span style="font-family: Consolas; font-size: 16pt;">Spring+SpringMVC+MyBatis：</span></div><div><span style="font-family: Consolas; font-size: 16pt;">1、导包</span></div><ul><li><div><span style="font-family: Consolas; font-size: 16pt;">Spring</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font face="Consolas" style="font-size: 12pt;">【AOP核心】</font></div><div><font face="Consolas" style="font-size: 12pt;">com.springsource.net.sf.cglib-2.2.0.jar</font></div><div><font face="Consolas" style="font-size: 12pt;">com.springsource.org.aopalliance-1.0.0.jar</font></div><div><font face="Consolas" style="font-size: 12pt;">com.springsource.org.aspectj.weaver-1.6.8.RELEASE.jar</font></div><div><font face="Consolas" style="font-size: 12pt;">spring-aspects-4.0.0.RELEASE.jar</font></div><div><font face="Consolas" style="font-size: 12pt;">【ioc核心】</font></div><div><font face="Consolas" style="font-size: 12pt;">commons-logging-1.1.3.jar</font></div><div><font face="Consolas" style="font-size: 12pt;">spring-aop-4.0.0.RELEASE.jar</font></div><div><font face="Consolas" style="font-size: 12pt;">spring-beans-4.0.0.RELEASE.jar</font></div><div><font face="Consolas" style="font-size: 12pt;">spring-context-4.0.0.RELEASE.jar</font></div><div><font face="Consolas" style="font-size: 12pt;">spring-core-4.0.0.RELEASE.jar</font></div><div><font face="Consolas" style="font-size: 12pt;">spring-expression-4.0.0.RELEASE.jar</font></div><div><font face="Consolas" style="font-size: 12pt;">【JDBC核心】</font></div><div><font face="Consolas" style="font-size: 12pt;">spring-jdbc-4.0.0.RELEASE.jar</font></div><div><font style="font-size: 12pt;">spring-orm-4.0.0.RELEASE.jar</font></div><div><font face="Consolas" style="font-size: 12pt;">spring-tx-4.0.0.RELEASE.jar</font></div><div><font face="Consolas" style="font-size: 12pt;">【测试】</font></div><div><font style="font-size: 12pt;">spring-test-4.0.0.RELEASE.jar</font></div></div><ul><li><div><span style="font-size: 16pt; font-family: Consolas;">SpringMVC</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font face="Consolas" style="font-size: 14pt;">【springmvc核心包】</font></div><div><font face="Consolas" style="font-size: 14pt;">spring-web-4.0.0.RELEASE.jar</font></div><div><font face="Consolas" style="font-size: 14pt;">spring-webmvc-4.0.0.RELEASE.jar</font></div><div><font face="Consolas" style="font-size: 14pt;">【上传下载】</font></div><div><font face="Consolas" style="font-size: 14pt;">commons-fileupload-1.2.1.jar</font></div><div><font face="Consolas" style="font-size: 14pt;">commons-io-2.0.jar</font></div><div><font face="Consolas" style="font-size: 14pt;">【jsp标准标签库】</font></div><div><font face="Consolas" style="font-size: 14pt;">jstl.jar</font></div><div><font face="Consolas" style="font-size: 14pt;">standard.jar</font></div><div><font face="Consolas" style="font-size: 14pt;">【数据校验】</font></div><div><font face="Consolas" style="font-size: 14pt;">hibernate-validator-5.0.0.CR2.jar</font></div><div><font face="Consolas" style="font-size: 14pt;">hibernate-validator-annotation-processor-5.0.0.CR2.jar</font></div><div><font face="Consolas" style="font-size: 14pt;">classmate-0.8.0.jar</font></div><div><font face="Consolas" style="font-size: 14pt;">jboss-logging-3.1.1.GA.jar</font></div><div><font face="Consolas" style="font-size: 14pt;">validation-api-1.1.0.CR1.jar</font></div><div><font face="Consolas" style="font-size: 14pt;">【Ajax】</font></div><div><font style="font-size: 14pt;">jackson-core-2.1.5.jar</font></div><div><font style="font-size: 14pt;">jackson-annotations-2.1.5.jar</font></div><div><font style="font-size: 14pt;">jackson-databind-2.1.5.jar</font></div></div><ul><li><div><span style="font-size: 16pt; font-family: Consolas;">MyBatis</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font face="Consolas" style="font-size: 14pt;">【MyBatis核心包】</font></div><div><font face="Consolas" style="font-size: 14pt;">mybatis-3.4.1.jar</font></div><div><font style="font-size: 14pt;">mybatis-spring-1.3.0.jar【Spring和Mybatis整合包】</font></div><div><font face="Consolas" style="font-size: 14pt;">【日志包】</font></div><div><font face="Consolas" style="font-size: 14pt;">log4j-1.2.17.jar</font></div><div><font face="Consolas" style="font-size: 14pt;">ehcache-core-2.6.8.jar</font></div><div><font face="Consolas" style="font-size: 14pt;">mybatis-ehcache-1.0.3.jar</font></div><div><font face="Consolas" style="font-size: 14pt;">slf4j-api-1.6.1.jar</font></div><div><font face="Consolas" style="font-size: 14pt;">slf4j-log4j12-1.6.2.jar</font></div><div><br/></div><div><br/></div></div><ul><li><div><span style="font-size: 16pt; font-family: Consolas;">其他</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font face="Consolas" style="font-size: 14pt;">【数据源、驱动】</font></div><div><font face="Consolas" style="font-size: 14pt;">mysql-connector-java-5.1.37-bin.jar</font></div><div><font face="Consolas" style="font-size: 14pt;">c3p0-0.9.1.2.jar</font></div></div><div><span style="font-family: Consolas; font-size: 16pt;">2、写配置</span></div><ul><li><div><span style="font-family: Consolas; font-size: 16pt;">web.xml配置</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</div><div>&lt;web-app  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance   http://www.springmodules.org/schema/cache/springmodules-cache.xsd  http://www.springmodules.org/schema/cache/springmodules-ehcache.xsd&quot;</div><div>    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;  id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;</div><div>    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;</div><div>    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</div><div>    xsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc  http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd</div><div>       http://www.springframework.org/schema/context  http://www.springframework.org/schema/context/spring-context-4.0.xsd</div><div>       http://java.sun.com/xml/ns/javaee  http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;</div><div>  &lt;display-name&gt;SSM&lt;/display-name&gt;</div><div>  &lt;welcome-file-list&gt;</div><div>    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;</div><div>  &lt;/welcome-file-list&gt;</div><div>  &lt;!-- 配置Spring容器启动 --&gt;</div><div>  &lt;!-- needed for ContextLoaderListener --&gt;</div><div>    &lt;context-param&gt;</div><div>       &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;</div><div>       &lt;!-- 指定Spring配置文件位置 --&gt;</div><div>       &lt;param-value&gt;classpath:spring/applicationContext.xml&lt;/param-value&gt;</div><div>    &lt;/context-param&gt;</div><div>    &lt;!-- Bootstraps the root web application  context before servlet initialization --&gt;</div><div>    &lt;listener&gt;</div><div>       &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;</div><div>    &lt;/listener&gt;</div><div>    </div><div>    &lt;!-- SpringMVC 前端控制器--&gt;</div><div>    &lt;!-- The front controller of this Spring  Web application, responsible for handling  all application requests --&gt;</div><div>    &lt;servlet&gt;</div><div>       &lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;</div><div>       &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;</div><div>       &lt;init-param&gt;</div><div>           &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;</div><div>           &lt;param-value&gt;classpath:spring/applicationContext-mvc.xml&lt;/param-value&gt;</div><div>       &lt;/init-param&gt;</div><div>       &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</div><div>    &lt;/servlet&gt;</div><div>    &lt;!-- Map all requests to the  DispatcherServlet for handling --&gt;</div><div>    &lt;servlet-mapping&gt;</div><div>       &lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;</div><div>       &lt;url-pattern&gt;/&lt;/url-pattern&gt;</div><div>    &lt;/servlet-mapping&gt;</div><div>    </div><div>    &lt;!-- 两个标准配置 --&gt;</div><div>    &lt;!-- 字符编码 --&gt;</div><div>    &lt;filter&gt;</div><div>       &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;</div><div>       &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;</div><div>       &lt;init-param&gt;</div><div>           &lt;param-name&gt;encoding&lt;/param-name&gt;</div><div>           &lt;param-value&gt;utf-8&lt;/param-value&gt;</div><div>       &lt;/init-param&gt;</div><div>       &lt;init-param&gt;</div><div>           &lt;param-name&gt;foceEncoding&lt;/param-name&gt;</div><div>           &lt;param-value&gt;true&lt;/param-value&gt;</div><div>       &lt;/init-param&gt;</div><div>    &lt;/filter&gt;</div><div>    &lt;filter-mapping&gt;</div><div>       &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;</div><div>       &lt;url-pattern&gt;/*&lt;/url-pattern&gt;</div><div>    &lt;/filter-mapping&gt;</div><div>    &lt;!-- 支持rest风格 --&gt;</div><div>    &lt;filter&gt;</div><div>       &lt;filter-name&gt;HiddenHttpMethodFilter&lt;/filter-name&gt;</div><div>       &lt;filter-class&gt;org.springframework.web.filter.HiddenHttpMethodFilter&lt;/filter-class&gt;</div><div>    &lt;/filter&gt;</div><div>    &lt;filter-mapping&gt;</div><div>       &lt;filter-name&gt;HiddenHttpMethodFilter&lt;/filter-name&gt;</div><div>       &lt;url-pattern&gt;/*&lt;/url-pattern&gt;</div><div>    &lt;/filter-mapping&gt;</div><div>    </div><div>&lt;/web-app&gt;</div></div><ul><li><div><span style="font-size: 16pt; font-family: Consolas;">spring配置</span></div></li><li><div><span style="font-size: 16pt;"><br/></span></div></li><li><div><span style="font-size: 16pt; font-family: Consolas;">springmvc配置</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</div><div>&lt;beans  xmlns=&quot;http://www.springframework.org/schema/beans&quot;</div><div>    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</div><div>    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</div><div>    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;</div><div>    xsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc  http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd</div><div>       http://www.springframework.org/schema/beans  http://www.springframework.org/schema/beans/spring-beans.xsd</div><div>       http://www.springframework.org/schema/context  http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;&gt;</div><div>&lt;!-- SpringMVC只扫描控制器  禁用默认的规则--&gt;</div><div>    &lt;context:component-scan  base-package=&quot;com.changan&quot;  use-default-filters=&quot;false&quot;&gt;</div><div>       &lt;context:include-filter  type=&quot;annotation&quot;  expression=&quot;org.springframework.stereotype.Controller&quot;/&gt;</div><div>    &lt;/context:component-scan&gt;</div><div>&lt;!-- 视图解析器 --&gt;</div><div>     &lt;bean  class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;</div><div>        &lt;property name=&quot;prefix&quot;  value=&quot;/WEB-INF/pages/&quot;&gt;&lt;/property&gt;</div><div>        &lt;property name=&quot;suffix&quot;  value=&quot;.jsp&quot;&gt;&lt;/property&gt;</div><div>      &lt;/bean&gt;</div><div>&lt;!-- 配置文件上传解析器 --&gt;</div><div>    &lt;bean id=&quot;multipartResolver&quot;  class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;</div><div>       &lt;property name=&quot;defaultEncoding&quot;  value=&quot;utf-8&quot;&gt;&lt;/property&gt;</div><div>       &lt;property name=&quot;maxInMemorySize&quot;  value=&quot;#{1024*1024*20}&quot;&gt;&lt;/property&gt;</div><div>    &lt;/bean&gt;</div><div>&lt;!-- 扫描静态资源 --&gt;</div><div>    &lt;mvc:default-servlet-handler/&gt;</div><div>&lt;!-- 扫描动态资源 --&gt;</div><div>     &lt;mvc:annotation-driven&gt;&lt;/mvc:annotation-driven&gt;</div><div>&lt;/beans&gt;</div></div><ul><li><div><span style="font-size: 16pt; font-family: Consolas;">mybatis配置</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;settings&gt;</div><div>    &lt;setting name=&quot;lazyLoadingEnabled&quot;  value=&quot;true&quot;/&gt;</div><div>    &lt;setting name=&quot;aggressiveLazyLoading&quot;  value=&quot;false&quot;/&gt;</div><div>    &lt;setting name=&quot;cacheEnabled&quot;  value=&quot;true&quot;/&gt;</div><div>  &lt;/settings&gt;</div></div><ul><li><div><span style="font-family: Consolas; font-size: 16pt;">其他配置</span></div></li></ul><div><span style="font-size: 16pt; font-family: Consolas;"> 整合步骤：（1）导入整合包：（将dao的实现加入容器中）</span></div><div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Consolas; font-size: 16pt;">mybatis-spring-1.3.0.jar</span></div></div><font style="font-family: Consolas; font-size: 16pt;">在spring配置文件中加入</font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;!-- 配置使用mybatis操作数据库 --&gt;</div><div>    &lt;!-- 根据配置文件得到sqlSessionFactory  --&gt;</div><div>    &lt;bean id=&quot;sqlSessionFactoryBean&quot;  class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;</div><div>       &lt;!-- 指定mybatis配置文件位置 --&gt;</div><div>       &lt;property name=&quot;configLocation&quot;  value=&quot;classpath:mybatis/mybatis-config.xml&quot;&gt;&lt;/property&gt;</div><div>       &lt;property name=&quot;dataSource&quot;  ref=&quot;ds&quot;&gt;&lt;/property&gt;</div><div>    &lt;!-- 指定xml映射文件的位置 --&gt;</div><div>       &lt;property name=&quot;mapperLocations&quot;  value=&quot;classpath:mybatis/mapper/*.xml&quot;&gt;&lt;/property&gt;</div><div>    &lt;/bean&gt;</div><div>    </div><div>    &lt;!-- 要把每一个dao接口的实现加入到ioc容器中  --&gt;</div><div>    &lt;bean  class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;</div><div>       &lt;!-- 指定到接口所在的包 这样就可以自动注入--&gt;</div><div>       &lt;property name=&quot;basePackage&quot;  value=&quot;com.changan.dao&quot;&gt;&lt;/property&gt;</div><div>    &lt;/bean&gt;</div></div><div><span style="font-family: Consolas; font-size: 16pt;"><span style="font-size: 18pt;">3、测试</span></span><br/></div><div><font face="Consolas" style="font-size: 16pt;"><br/></font></div><div><font face="Consolas" style="font-size: 16pt;"><br/></font></div><div><font face="Consolas" style="font-size: 16pt;"><br/></font></div><div><font face="Consolas" style="font-size: 16pt;"><br/></font></div><div><font face="Consolas" style="font-size: 16pt;"><br/></font></div><div><font face="Consolas" style="font-size: 16pt;"><br/></font></div><div><font face="Consolas" style="font-size: 16pt;"><br/></font></div><div><font face="Consolas" style="font-size: 16pt;"><br/></font></div><div><font face="Consolas" style="font-size: 16pt;"><br/></font></div><div><font face="Consolas" style="font-size: 16pt;"><br/></font></div><div><font face="Consolas" style="font-size: 16pt;"><br/></font></div><div><font face="Consolas" style="font-size: 16pt;"><br/></font></div><div><font face="Consolas" style="font-size: 16pt;"><br/></font></div><div><font face="Consolas" style="font-size: 16pt;"><br/></font></div><div><font face="Consolas" style="font-size: 16pt;"><br/></font></div><div><font face="Consolas" style="font-size: 16pt;"><br/></font></div><div><font face="Consolas" style="font-size: 16pt;"><br/></font></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 